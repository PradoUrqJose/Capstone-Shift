<!-- Tabla de turnos mensual -->
<table class="w-full bg-transparent rounded-lg overflow-hidden -mt-9">
  <thead>
    <tr class="text-gray-500">
      <th class="text-right p-2 capitalize nunito font-extralight" *ngFor="let dia of diasSemana">
        <span class="text-lg font-bold">{{ dia.nombre }}</span>
      </th>
    </tr>
  </thead>
  <tbody>
    <tr *ngFor="let semana of semanasDelMes">
      <td *ngFor="let dia of semana" class="text-center w-[8rem] h-[8rem] bg-transparent"
        [ngClass]="{ 'dia-sobrante': dia.esSobrante}">

        <ng-container *ngIf="turnosMensuales$ | async as turnos">
          <ng-container *ngIf="obtenerTurno(turnos, colaboradorSeleccionado, dia.fecha) as turno; else agregarBoton">
            <div class="w-[95%] h-[95%] m-auto bg-white rounded-lg py-4 px-1 relative flex justify-end items-end"
              [ngClass]="{ 'feriado-semanal': esFeriado(dia.fecha) }">
              <div class="container-green minum rounded-lg cursor-pointer transition hover:shadow"
                [ngClass]="{ 'almuerzo-tomado': turno.tomoAlmuerzo }"
                [attr.data-horas-trabajadas]="formatearHorasDia(turno.horasTrabajadas)"
                [attr.data-tienda]="turno.nombreTienda" (click)="abrirModalEdicion.emit(turno)">
                <span>{{ formatearHora(turno.horaEntrada) }} </span>
                <i class="fa-solid fa-caret-right"></i>
                <span> {{ formatearHora(turno.horaSalida) }}</span>
              </div>
              <span class="absolute top-2.5 right-3 nunito text-sm font-semibold month"
                [ngClass]="{ 'dia-actual-encabezado': esDiaActual(dia.fecha), 'feriado-semanal-encabezado': esFeriado(dia.fecha), 'dia-sobrante-texto': dia.esSobrante }">
                {{ dia.dayNumber }}
              </span>
            </div>
          </ng-container>
          <ng-template #agregarBoton>
            <div class="w-[95%] h-[95%] m-auto bg-white rounded-lg p-4 flex justify-center items-center relative"
              [ngClass]="{ 'feriado-semanal': esFeriado(dia.fecha) }">
              <button *ngIf="colaboradorSeleccionado !== 0"
                class="p-2 text-gray-400 text-xs hover:text-blue-800 hover:scale-125 transition rounded-lg"
                (click)="abrirModal.emit({colaboradorId: colaboradorSeleccionado, fecha: dia.fecha})"
                title="Agregar Turno">
                <i class="fa-solid fa-plus"></i>
              </button>
              <span class="absolute top-2.5 right-3 nunito text-sm font-semibold month"
                [ngClass]="{ 'dia-actual-encabezado': esDiaActual(dia.fecha), 'feriado-semanal-encabezado': esFeriado(dia.fecha), 'dia-sobrante-texto': dia.esSobrante }">
                {{ dia.dayNumber }}
              </span>
            </div>
          </ng-template>
        </ng-container>
      </td>
    </tr>
  </tbody>
</table>
